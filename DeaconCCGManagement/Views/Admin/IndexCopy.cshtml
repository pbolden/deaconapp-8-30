@using DeaconCCGManagement.Helpers
@using DeaconCCGManagement.Models
@using DeaconCCGManagement.ViewModels
@{
    ViewBag.Title = "Administrator Console";  

    // Action urls
    string ccgAppUsersUrl = Url.Action("Index", "CcgAppUsers");
    string ccgMembersUrl = Url.Action("Index", "CcgMembers", new { getAll = true });
    string contactRecordsUrl = Url.Action("Index", "ContactRecords", new { getAll = true });
    string prayerRequestsUrl = Url.Action("Index", "PrayerRequest", new { getAll = true });
    string contactTypesUrl = Url.Action("Index", "ContactTypes");
    string ccgsUrl = Url.Action("Index", "CCG");
    string changeRequestsUrl = Url.Action("Index", "ChangeRequests");
    string calendarUrl = Url.Action("Index", "Calendar", new { getAll = true });
    string needsCommunionUrl = Url.Action("Index", "NeedsCommunion");
    string errorLogUrl = Request.RawUrl + "/Elmah";
    string deaconAnnouncementUrl = Url.Action("Index", "DeaconAnnouncement");

    var user = AuthHelper.GetUserLoggedInInfo(User.Identity.Name);
}

@section Styles {
    @Styles.Render("~/Content/admin-console.css")
}

<br />
@Html.Partial("_Breadcrumbs", "Admin Console")


@*Declare panel objects and add to collection*@
@{

    var panels = new List<DescriptionWithLinkPanel>();


    string title = "App Users";
    string description = "This section is where you can do a lot of good for people";
    string href = ccgAppUsersUrl;
    string glyph = "";
    string imageSrc = "/Content/Images/users-group.svg";

    var panel = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };

    panels.Add(panel);

}

<!--CCG members panel-->
@{
    title = "CCG Members";
    description = "This section is where you can do a lot of good for people";
    href = ccgMembersUrl;
    glyph = "";
    imageSrc = "/Content/Images/MembersIconGrayscale.svg";

    panel = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };

    panels.Add(panel);
}


<!--Contact records panel-->
@{
    title = "Contact Records";
    description = "This section is where you can do a lot of good for people";
    href = contactRecordsUrl;
    glyph = "";
    imageSrc = "/Content/Images/contact-records.svg";

    panel = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };

    panels.Add(panel);

}

<!--Change request panel-->
@{
    title = "Change Requests";
    description = "This section is where you can do a lot of good for people";
    href = changeRequestsUrl;
    glyph = "";
    imageSrc = "/Content/Images/change-request.svg";

    panel = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };

    panels.Add(panel);

}

<!--Contact Types panel-->
@{
    title = "Contact Types";
    description = "This section is where you can do a lot of good for people";
    href = contactTypesUrl;
    glyph = "";
    imageSrc = "/Content/Images/contact-types.svg";

    panel = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };

    panels.Add(panel);

}

<!--Prayer requests panel-->
@{
    title = "Prayer Requests";
    description = "This section is where you can do a lot of good for people";
    href = prayerRequestsUrl;
    glyph = "";
    imageSrc = "/Content/Images/ccg-praying-hands.svg";

    panel = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };

    panels.Add(panel);

}

<!--CCGs panel-->
@{
    title = "CCGs";
    description = "This section is where you can do a lot of good for people";
    href = ccgsUrl;
    glyph = "";
    imageSrc = "/Content/Images/ccg-group.svg";

    panel = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };

    panels.Add(panel);

}

<!--Calendar panel-->
@{
    title = "Calendar";
    description = "This section is where you can do a lot of good for people";
    href = calendarUrl;
    glyph = "";
    imageSrc = "/Content/Images/ccg-calendar.svg";

    panel = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };

    panels.Add(panel);

}


<!--Needs Communion panel-->
@{
    title = "Needs Communion";
    description = "This section is where you can do a lot of good for people";
    href = needsCommunionUrl;
    glyph = "";
    imageSrc = "/Content/Images/needs-communion.svg";

    panel = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };

    panels.Add(panel);

}

<!--Error log panel-->
@{
    title = "Error Log";
    description = "Review errors.";
    href = errorLogUrl;
    glyph = "";
    imageSrc = "/Content/Images/error-log.svg";

    panel = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };

    panels.Add(panel);
}

<!--Deacon  Announcements panel-->
@{

    title = "Deacon  Announcements";
    description = "View any announcements available for ZMBC Deacons on this page. Great for Deacon networking and other.";
    href = deaconAnnouncementUrl;
    glyph = "";
    imageSrc = "/Content/Images/ccg-bullhorn.svg";

    var panelDeaconsAnnouncements = new DescriptionWithLinkPanel
    {
        Title = new HtmlString(title),
        Description = new HtmlString(description),
        href = new HtmlString(href),
        Glyph = new HtmlString(glyph),
        ImageSrc = new HtmlString(imageSrc)
    };
}


@* / Declare panel objects and add to collection*@


<!--Display icon and title only for mobile views-->
<div class="visible-xs">

    <div class="container-fluid">
        <div class="row" style="margin-top: -30px">
            <div class="col-xs-12" data-offset-top="0">
                <div class="profile-block">
                    <img src="/Content/Images/ZionLogoB.png" alt="CCG Management Portal" class="img-circle" />
                    <h4 class="profile-title" style="color: #000">CCG Management Admin</h4>

                </div>

                <ul class="nav nav-pills nav-stacked">
                    <li class="nav-divider"></li>


                    <!--App users's icons and links for mobile-->
                    @{
                        foreach (var p in panels)
                        {
                            <li>
                                <a href="@p.href" class="transition">
                                    @*<span class="@p.Glyph" aria-hidden="true"></span>*@
                                    <img src="@p.ImageSrc" height="40" width="40" />&nbsp;&nbsp;@p.Title
                                </a>
                            </li>
                        }
                    }

                </ul>
            </div>
        </div>
    </div>
</div>


<!--Display description with link panels for desktops views-->
<div class="hidden-xs">
    <div class="bigHome">
        <div class="container-fluid">
            <div class="row" align="center">
                <hr />
                <div class="imgHome">
                    <div class="col-sm-6 col-md-6">
                        <img src="~/Content/Images/ZionLogoB.png" alt="image" />
                    </div>
                </div>
                <div class="col-sm-6 col-md-6">
                    <h1>
                        <strong>
                            Administrator <br /> Console
                        </strong>
                    </h1>
                </div>
            </div>

            <hr />

            <div class="row">

                <!--App users panel-->
                @{
                    foreach (var p in panels)
                    {
                        @Html.Partial("_AdminDescriptionWithLinkPanel", p)
                    }
                }

            </div>
        </div>
    </div>
</div>
